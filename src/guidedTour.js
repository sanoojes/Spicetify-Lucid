"use strict";(()=>{var W=Object.defineProperty,q=Object.defineProperties;var z=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var k=(t,e,n)=>e in t?W(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,m=(t,e)=>{for(var n in e||(e={}))H.call(e,n)&&k(t,n,e[n]);if(T)for(var n of T(e))R.call(e,n)&&k(t,n,e[n]);return t},P=(t,e)=>q(t,z(e));var A=(t,e)=>{var n={};for(var r in t)H.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&T)for(var r of T(t))e.indexOf(r)<0&&R.call(t,r)&&(n[r]=t[r]);return n};var u=(t,e,n)=>k(t,typeof e!="symbol"?e+"":e,n);var Y=(t="base")=>`encore-internal-color-text-${t}`,y=(t="variable-text",e="base")=>`encore-text ${t==="variable-text"?`encore-${t}`:`encore-text-${t}`} ${Y(e)}`;function p(t,e){let n=document.createElement(t);if(!e)return n;if(e.attributes)for(let[s,c]of Object.entries(e.attributes))c?n.setAttribute(s,c):n.removeAttribute(s);e.style&&Object.assign(n.style,e.style);let o=e,{style:r,attributes:i}=o,a=A(o,["style","attributes"]);return Object.assign(n,a),n}var F=t=>{let e=document.querySelector(`#style-${t}`);return e||(e=p("style",{id:`style-${t}`}),document.body.appendChild(e)),e};var J="guided-tour-styles",X=`
body, #main { overflow: hidden; } 
.hidden, .tour-container.arrow-hidden:before { display: none; }
.tour-container {position: absolute;background-color: var(--clr-surface-2);padding: 1rem;border-radius: .5rem;max-width: 30em;box-shadow: 0 0 2rem rgba(0, 0, 0, 0.5);z-index: 99999;opacity: 0;visibility: hidden;transform: translate3d(0, -10px, 0);transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out, transform 0.3s ease-in-out;}
.tour-container.full-width { width: 100%; max-width: 100% }
.tour-container.visible:before {content: "";position: absolute;height: 1.5rem;width: 1.5rem;border-radius: 6px;top: 0;left: 50%;background-color: var(--clr-surface-2);clip-path: polygon(0 0, 0% 100%, 100% 0);transform: rotate(45deg) translate(-50%, 0);z-index: -1;}
.tour-container.visible { opacity: 1; visibility: visible; transform: translate3d(0, 0, 0) }
.tour-btn {border: var(--border-thickness, 1px) var(--border-style, solid) var(--border-color, rgba(var(--clr-surface-5-rgb), 0.25));background-color: var(--clr-tertiary);color: var(--clr-on-tertiary);padding: .5rem 1rem;border-radius: .3rem;font-weight: 500;cursor: pointer;transition: background-color 225ms ease-in-out;}
.tour-btn:hover { background-color: var(--clr-on-tertiary); color: var(--clr-tertiary) }
.tour-btn.skip-btn { background-color: var(--clr-secondary); color: var(--clr-on-secondary) }
.tour-btn.skip-btn:hover { background-color: var(--clr-on-secondary); color: var(--clr-secondary) }
.tour-btn.prev-btn { background-color: var(--clr-primary); color: var(--clr-on-primary) }
.tour-btn.prev-btn:hover { background-color: var(--clr-on-primary); color: var(--clr-primary) }
.tour-button-wrapper { display: flex; justify-content: space-between; margin-top: 1rem; gap: .5rem; }
.tour-step-counter { margin-bottom: 0.5rem; text-align: center; font-weight: bold; color: var(--clr-on-surface); }
.tour-navigation-wrapper { display: flex; gap: 0.5rem; }
.tour-navigation-wrapper .next-btn { margin-left: 0.5rem; }
`,S=class extends HTMLElement{constructor(){super();u(this,"steps",[]);u(this,"currentStepIndex",0);u(this,"tooltip");u(this,"targetElement");u(this,"interactiveElements",[]);u(this,"stepCounter");u(this,"message");u(this,"prevButton");u(this,"nextButton");u(this,"skipButton");F(J).textContent=X}connectedCallback(){this.style.position="fixed",this.style.inset="0px",this.style.pointerEvents="none"}set tourSteps(n){this.steps=n}get tourSteps(){return this.steps}start(){this.steps.length>0&&this.steps[0].onStart&&this.steps[0].onStart(),this.currentStepIndex=0,this.renderTooltip(),this.showStep()}renderTooltip(){if(!this.tooltip){this.tooltip=p("div",{className:"tour-container",role:"dialog",ariaModal:"true"}),this.stepCounter=p("div",{className:"tour-step-counter"}),this.message=p("div",{className:`tour-message ${y("body-medium")}`}),this.skipButton=this.createButton("skip-btn","Skip Tour",this.endTour.bind(this)),this.prevButton=this.createButton("prev-btn hidden","Previous",this.prevStep.bind(this)),this.nextButton=this.createButton("next-btn","Next",this.nextStep.bind(this));let n=p("div",{className:"tour-button-wrapper"}),r=p("div",{className:"tour-navigation-wrapper"});r.append(this.prevButton,this.nextButton),n.append(r),n.prepend(this.skipButton),this.tooltip.append(this.stepCounter,this.message,n),this.appendChild(this.tooltip)}}createButton(n,r,i){let a=p("button",{className:`tour-btn ${n}`,textContent:r});return a.onclick=i,a}async showStep(n=!1){if(this.currentStepIndex>=this.steps.length){this.endTour();return}let r=this.steps[this.currentStepIndex];if(this.targetElement=document.querySelector(r.target),!this.targetElement||this.targetElement.offsetParent===null){console.warn(`Skipping invisible or missing target: ${r.target}`),n?this.currentStepIndex--:this.currentStepIndex++,this.showStep(n);return}if(!this.targetElement){console.warn(`Target element not found: ${r.target}. Skipping step.`),n?this.currentStepIndex--:this.currentStepIndex++,this.showStep(n);return}this.targetElement.scrollIntoView({behavior:"smooth",block:"center"}),await new Promise(i=>{var a;return setTimeout(i,(a=r.wait)!=null?a:500)}),this.disablePointerEvents(),this.enablePointerEventsForInteractiveElements(r),this.updateTooltip(r)}updateTooltip(n){var c;if(!this.tooltip||!this.targetElement)return;this.tooltip.classList.toggle("arrow-hidden",!((c=n.arrow)==null||c)),this.stepCounter.textContent=`Step ${this.currentStepIndex+1} of ${this.steps.length}`,this.message.textContent=n.content,this.prevButton.classList.toggle("hidden",this.currentStepIndex===0),this.nextButton.textContent=this.currentStepIndex===this.steps.length-1?"End Tour":"Next";let r=this.targetElement.getBoundingClientRect(),i=this.tooltip.getBoundingClientRect(),a=0,o=0;switch(n.position||"center"){case"top right":a=r.top-i.height-16,o=r.right-i.width-32;break;case"top left":a=r.top-i.height-16,o=r.left-32;break;case"bottom left":a=r.bottom+16,o=r.left-32;break;case"bottom right":a=r.bottom+16,o=r.right-i.width-32;break;default:a=r.top+r.height+16,o=r.left+r.width/2-i.width/2,a+i.height>window.innerHeight&&(a=r.top-i.height-16);break}o<0?o=10:o+i.width>window.innerWidth&&(o=window.innerWidth-i.width-10),a<0?a=10:a+i.height>window.innerHeight&&(a=window.innerHeight-i.height-10),this.tooltip.style.transform=`translate3d(${o}px, ${a}px, 0)`,this.tooltip.classList.add("visible")}nextStep(){var n,r;this.steps[this.currentStepIndex].onComplete&&((r=(n=this.steps[this.currentStepIndex]).onComplete)==null||r.call(n)),this.currentStepIndex++,this.showStep()}prevStep(){var n,r,i;this.currentStepIndex>0?((n=this.steps[this.currentStepIndex-1])!=null&&n.onPrevious&&((i=(r=this.steps[this.currentStepIndex-1]).onPrevious)==null||i.call(r)),this.currentStepIndex--,this.showStep(!0)):console.warn("Already at the first step, cannot go back.")}disablePointerEvents(){document.body.style.pointerEvents="none"}enablePointerEventsForInteractiveElements(n){if(!(!this.tooltip||!this.targetElement)){if(this.interactiveElements=[this.targetElement,this.tooltip],n.interactiveElementsSelector){let r=document.querySelectorAll(n.interactiveElementsSelector);for(let i of r)this.interactiveElements.push(i)}for(let r of this.interactiveElements)r.style.pointerEvents="auto"}}resetPointerEvents(){document.body.style.pointerEvents="auto";for(let n of this.interactiveElements)n.style.pointerEvents="auto";this.interactiveElements=[]}endTour(){console.debug("Tour skipped or ended."),this.resetPointerEvents(),this.tooltip&&(this.tooltip.classList.remove("visible"),this.tooltip.addEventListener("transitionend",()=>{var n;this.tooltip&&((n=this.tooltip.parentElement)==null||n.removeChild(this.tooltip),this.tooltip=void 0)},{once:!0}))}};customElements.define("guided-tour",S);var C=(t,e)=>p("button",{className:`lucid-button ${y("body-small-bold")} ${t}`,textContent:e}).outerHTML;var f={defaultMerge:Symbol("deepmerge-ts: default merge"),skip:Symbol("deepmerge-ts: skip")},Ie={defaultMerge:f.defaultMerge};function Q(t,e){return e}function Z(t,e){return t.filter(n=>n!==void 0)}var D;(function(t){t[t.NOT=0]="NOT",t[t.RECORD=1]="RECORD",t[t.ARRAY=2]="ARRAY",t[t.SET=3]="SET",t[t.MAP=4]="MAP",t[t.OTHER=5]="OTHER"})(D||(D={}));function _(t){return typeof t!="object"||t===null?0:Array.isArray(t)?2:re(t)?1:t instanceof Set?3:t instanceof Map?4:5}function ee(t){let e=new Set;for(let n of t)for(let r of[...Object.keys(n),...Object.getOwnPropertySymbols(n)])e.add(r);return e}function te(t,e){return typeof t=="object"&&Object.prototype.propertyIsEnumerable.call(t,e)}function N(t){var r;let e=0,n=(r=t[0])==null?void 0:r[Symbol.iterator]();return{[Symbol.iterator](){return{next(){var i;do{if(n===void 0)return{done:!0,value:void 0};let a=n.next();if(a.done===!0){e+=1,n=(i=t[e])==null?void 0:i[Symbol.iterator]();continue}return{done:!1,value:a.value}}while(!0)}}}}}var $=["[object Object]","[object Module]"];function re(t){if(!$.includes(Object.prototype.toString.call(t)))return!1;let{constructor:e}=t;if(e===void 0)return!0;let n=e.prototype;return!(n===null||typeof n!="object"||!$.includes(Object.prototype.toString.call(n))||!n.hasOwnProperty("isPrototypeOf"))}function ne(t,e,n){let r={};for(let i of ee(t)){let a=[];for(let c of t)te(c,i)&&a.push(c[i]);if(a.length===0)continue;let o=e.metaDataUpdater(n,{key:i,parents:t}),s=V(a,e,o);s!==f.skip&&(i==="__proto__"?Object.defineProperty(r,i,{value:s,configurable:!0,enumerable:!0,writable:!0}):r[i]=s)}return r}function oe(t){return t.flat()}function ie(t){return new Set(N(t))}function ae(t){return new Map(N(t))}function se(t){return t.at(-1)}var E={mergeRecords:ne,mergeArrays:oe,mergeSets:ie,mergeMaps:ae,mergeOthers:se};function B(...t){return ce({})(...t)}function ce(t,e){let n=le(t,r);function r(...i){return V(i,n,e)}return r}function le(t,e){var n,r,i;return{defaultMergeFunctions:E,mergeFunctions:m(m({},E),Object.fromEntries(Object.entries(t).filter(([a,o])=>Object.hasOwn(E,a)).map(([a,o])=>o===!1?[a,E.mergeOthers]:[a,o]))),metaDataUpdater:(n=t.metaDataUpdater)!=null?n:Q,deepmerge:e,useImplicitDefaultMerging:(r=t.enableImplicitDefaultMerging)!=null?r:!1,filterValues:t.filterValues===!1?void 0:(i=t.filterValues)!=null?i:Z,actions:f}}function V(t,e,n){var a,o;let r=(o=(a=e.filterValues)==null?void 0:a.call(e,t,n))!=null?o:t;if(r.length===0)return;if(r.length===1)return L(r,e,n);let i=_(r[0]);if(i!==0&&i!==5){for(let s=1;s<r.length;s++)if(_(r[s])!==i)return L(r,e,n)}switch(i){case 1:return de(r,e,n);case 2:return ue(r,e,n);case 3:return pe(r,e,n);case 4:return ge(r,e,n);default:return L(r,e,n)}}function de(t,e,n){let r=e.mergeFunctions.mergeRecords(t,e,n);return r===f.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeRecords!==e.defaultMergeFunctions.mergeRecords?e.defaultMergeFunctions.mergeRecords(t,e,n):r}function ue(t,e,n){let r=e.mergeFunctions.mergeArrays(t,e,n);return r===f.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeArrays!==e.defaultMergeFunctions.mergeArrays?e.defaultMergeFunctions.mergeArrays(t):r}function pe(t,e,n){let r=e.mergeFunctions.mergeSets(t,e,n);return r===f.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeSets!==e.defaultMergeFunctions.mergeSets?e.defaultMergeFunctions.mergeSets(t):r}function ge(t,e,n){let r=e.mergeFunctions.mergeMaps(t,e,n);return r===f.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeMaps!==e.defaultMergeFunctions.mergeMaps?e.defaultMergeFunctions.mergeMaps(t):r}function L(t,e,n){let r=e.mergeFunctions.mergeOthers(t,e,n);return r===f.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeOthers!==e.defaultMergeFunctions.mergeOthers?e.defaultMergeFunctions.mergeOthers(t):r}function U(t,e){if(!e)return t;let n=e.split(/[.\[\]'"]/).filter(Boolean),r=t;for(let i of n)if(r&&typeof r=="object"&&i in r)r=r[i];else return;return r}var O=class{constructor(e,n={}){u(this,"state");u(this,"subscribers",[]);u(this,"options");if(this.options=m({persist:!1,localStorageKey:"storeState"},n),this.options.persist&&this.options.localStorageKey){let r=localStorage.getItem(this.options.localStorageKey);if(!r){this.state=e;return}try{let i=JSON.parse(r);this.state=B(e,i)}catch(i){console.error("Error parsing stored state from localStorage:",i),this.state=e}}else this.state=e}getState(){return this.state}setState(e,n){let r=m({},this.state),i=e(this.state,n);this.updateStateAndNotify(i,r)}updateStateAndNotify(e,n){e!==this.state&&(this.state=e,this.notifySubscribers(n),this.options.persist&&this.persist())}subscribe(e,n){let r={subscriber:e,path:n};return this.subscribers.push(r),()=>{this.subscribers=this.subscribers.filter(i=>i!==r)}}notifySubscribers(e){for(let n of this.subscribers){let{subscriber:r,path:i}=n,a=U(e,i),o=U(this.state,i);if(JSON.stringify(a)!==JSON.stringify(o)){let s=performance.now();try{r(this.state)}catch(g){console.error(`Subscriber at path "${i}" threw an error:`,g)}let c=performance.now()-s;c>10&&console.warn(`Slow subscriber at path "${i}" took ${c.toFixed(2)}ms. Subscriber: ${r}`)}}}persist(){try{if(this.options.localStorageKey)localStorage.setItem(this.options.localStorageKey,JSON.stringify(this.state));else throw new Error("localStorage key not found!")}catch(e){console.error("Error saving state to localStorage:",e)}}},G=O;var K=new G({isFloating:!1,position:{top:16,left:16}},{persist:!0,localStorageKey:"lucid-modal-position"});var x=()=>{var t,e,n;(n=(e=(t=window==null?void 0:window.lucid)==null?void 0:t.settings)==null?void 0:e.openSettings)==null||n.call(e)},l={navBtn:"Click here to open settings.",ctxMenu:"Settings open button is in this context menu. Click to open it.",ctxMenuItem:"Click here to open settings.",welcomeModal:"Welcome to Lucid Settings! Here you can customize every aspect of your theme.",genTab:`Let's start in the "General" tab to customize basic settings.`,floatWin:`First, let's look at "Floating Window" setting. Control if the settings window floats or stays embedded.`,winPos:'Next, "Window Position". Choose where you want the settings to open - Navigation bar or Context menu.',intfTab:'Now, we are moving to the "Interface" tab to customize page and sidebar styles.',bgStyle:'In "Interface", find "Background Style". Here you can change the overall style of pages background.',npViewGrp:`Still in "Interface", let's customize "Now Playing View" sidebar.`,npViewMode:'Within "Now Playing View" settings, you can switch between "Normal" and "Compact" view modes for the sidebar.',bgTab:'Next, we will check "Background" tab to explore the theme background options.',bgMode:"Here you can change the background mode. Try switching between Animated, Solid Color, and Static Image to see different background types.",dynColor:"Checkout new Dynamic Color. This feature automatically adapts your theme\u2019s colors to match the album art of the song that's playing. Try switching songs to see the effect in action!",gFontsGrp:'In "Interface" tab, Here you can enable "Google Fonts" to unlock a vast library of fonts for your theme.',borderGrp:'Still in "Interface" tab, here, you can change the look and style of the application border.',playbarTab:`Let's move to the "Playbar Settings" tab to customize the playbar at the bottom.`,playbarType:'Try changing the "Playbar Type" between "Default" and "Compact" to see how it changes the layout.',advTab:'Finally, explore "Advanced Settings" tab for more control over the theme behavior.',closeModal:"That's all for the essential settings tour! Explore other options to fully customize Lucid. Click here to close settings."};function M(t=(n=>(n=(e=>(e=window==null?void 0:window.lucid)==null?void 0:e.store)())==null?void 0:n.getState())()){function r(){var o,s,c,g,h,b;(c=(s=(o=window==null?void 0:window.lucid)==null?void 0:o.settings)==null?void 0:s.openSettings)==null||c.call(s),(b=(h=(g=window==null?void 0:window.lucid)==null?void 0:g.settings)==null?void 0:h.settingModal)==null||b.addEventListener("close",x,{once:!0})}return[...t.position==="nav"?[{target:"button[aria-label='Lucid Settings']",content:l.navBtn,onComplete:r,interactiveElementsSelector:"button[aria-label='Lucid Settings']"}]:[{target:".main-userWidget-box",content:l.ctxMenu,onComplete:()=>{var o;(o=document.querySelector(".main-userWidget-box"))==null||o.click()},interactiveElementsSelector:".main-userWidget-box"},{target:".main-userWidget-dropDownMenu .main-contextMenu-menuItem:nth-child(3)",content:l.ctxMenuItem,wait:500,onComplete:r,interactiveElementsSelector:".main-userWidget-dropDownMenu .main-contextMenu-menuItem:nth-child(3)"}],{target:"lucid-settings-modal .modal-header-container",content:l.welcomeModal,arrow:!1,interactiveElementsSelector:".modal-header-container"},{target:'setting-section[data-tab-id="general"] .header-wrapper',content:l.genTab,arrow:!0,wait:700,interactiveElementsSelector:'setting-section[data-tab-id="general"] .header-wrapper'},{target:'setting-field[data-field-id="floating window"] .label-wrapper',content:l.floatWin,arrow:!0,interactiveElementsSelector:'setting-field[data-field-id="floating window"]',onStart:()=>{K.setState(o=>P(m({},o),{isFloating:!0}))}},{target:'setting-field[data-field-id="window position"] .label-wrapper',content:l.winPos,arrow:!0,interactiveElementsSelector:'setting-field[data-field-id="window position"]'},{target:'setting-section[data-tab-id="interface"] .header-wrapper',content:l.intfTab,arrow:!0,interactiveElementsSelector:'setting-section[data-tab-id="interface"] .header-wrapper',onStart:()=>{var o;(o=document.querySelector('setting-section[data-tab-id="interface"] .header-wrapper'))==null||o.scrollIntoView({behavior:"smooth",block:"center"})},wait:500},{target:'setting-section[data-tab-id="interface"] setting-field[data-field-id="background style"] .label-wrapper',content:l.bgStyle,arrow:!0,interactiveElementsSelector:'setting-section[data-tab-id="interface"] setting-field[data-field-id="background style"]',onStart:()=>{var o;(o=document.querySelector('setting-section[data-tab-id="interface"] setting-field[data-field-id="background style"] .label-wrapper'))==null||o.scrollIntoView({behavior:"smooth",block:"center"})},wait:500},{target:'setting-section[data-tab-id="interface"] setting-group[data-group-id="now playing view"] .header-wrapper',content:l.npViewGrp,arrow:!0,interactiveElementsSelector:'setting-section[data-tab-id="interface"] setting-group[data-group-id="now playing view"] .header-wrapper',onStart:()=>{var o;(o=document.querySelector('setting-section[data-tab-id="interface"] setting-group[data-group-id="now playing view"] .header-wrapper'))==null||o.scrollIntoView({behavior:"smooth",block:"center"})},wait:500},{target:'setting-section[data-tab-id="interface"] setting-group[data-group-id="now playing view"] setting-field[data-field-id="view mode"] .label-wrapper',content:l.npViewMode,arrow:!0,interactiveElementsSelector:'setting-section[data-tab-id="interface"] setting-group[data-group-id="now playing view"] setting-field[data-field-id="view mode"]',onStart:()=>{var o;(o=document.querySelector('setting-section[data-tab-id="interface"] setting-group[data-group-id="now playing view"] setting-field[data-field-id="view mode"] .label-wrapper'))==null||o.scrollIntoView({behavior:"smooth",block:"center"})},wait:500},{target:'setting-section[data-tab-id="background"] .header-wrapper',content:l.bgTab,arrow:!0,wait:700,interactiveElementsSelector:'setting-section[data-tab-id="background"] .header-wrapper'},{target:'setting-section[data-tab-id="background"] setting-field[data-field-id="background mode"]',content:l.bgMode,arrow:!0,wait:700,position:"bottom left",interactiveElementsSelector:'setting-section[data-tab-id="background"] setting-field[data-field-id="background mode"]'},{target:'setting-section[data-tab-id="background"] setting-field[data-field-id="dynamic color"]',content:l.dynColor,arrow:!0,wait:700,interactiveElementsSelector:'setting-section[data-tab-id="background"] setting-field[data-field-id="dynamic color"]'},{target:'setting-section[data-tab-id="interface"] setting-group[data-group-id="font"]',content:l.gFontsGrp,arrow:!0,wait:700,interactiveElementsSelector:'setting-section[data-tab-id="interface"] setting-field[data-field-id="google fonts"]',onStart:()=>{var o;(o=document.querySelector('setting-section[data-tab-id="interface"] setting-group[data-group-id="font"]'))==null||o.scrollIntoView({behavior:"smooth",block:"center"})}},{target:'setting-section[data-tab-id="interface"] setting-group[data-group-id="border"]',content:l.borderGrp,arrow:!0,wait:700,interactiveElementsSelector:'setting-section[data-tab-id="interface"] setting-field[data-field-id="style"]',onStart:()=>{var o;(o=document.querySelector('setting-group[data-group-id="border"]'))==null||o.scrollIntoView({behavior:"smooth",block:"center"})}},{target:'setting-section[data-tab-id="playbar settings"] .header-wrapper',content:l.playbarTab,arrow:!0,wait:700,interactiveElementsSelector:'setting-section[data-tab-id="playbar settings"] .header-wrapper',onStart:()=>{var o;(o=document.querySelector('setting-section[data-tab-id="playbar settings"] .header-wrapper'))==null||o.scrollIntoView({behavior:"smooth",block:"center"})}},{target:'setting-section[data-tab-id="playbar settings"] setting-field[data-field-id="playbar type"]',content:l.playbarType,arrow:!0,wait:700,interactiveElementsSelector:'setting-section[data-tab-id="playbar settings"] setting-field[data-field-id="playbar type"]',onStart:()=>{var o;(o=document.querySelector('setting-field[data-field-id="playbar type"]'))==null||o.scrollIntoView({behavior:"smooth",block:"center"})}},{target:'setting-section[data-tab-id="advanced settings"] .header-wrapper',content:l.advTab,arrow:!0,interactiveElementsSelector:'setting-section[data-tab-id="advanced settings"] .header-wrapper',onStart:()=>{var o;(o=document.querySelector('setting-section[data-tab-id="advanced settings"] .header-wrapper'))==null||o.scrollIntoView({behavior:"smooth",block:"center"})},wait:500},{target:"lucid-settings-modal custom-button.close",content:l.closeModal,arrow:!0,onComplete:()=>{var o,s,c;(c=(s=(o=window==null?void 0:window.lucid)==null?void 0:o.settings)==null?void 0:s.settingModal)==null||c.removeEventListener("close",x)},interactiveElementsSelector:"lucid-settings-modal"}]}var w="https://raw.githubusercontent.com/sanoojes/Spicetify-Lucid/refs/heads/beta",v="https://cdn.jsdelivr.net/gh/sanoojes/Spicetify-Lucid@beta";var I="lucid-guided-tour",_e=[`${w}/src/workers/getColor.js`,`${v}/src/workers/getColor.js`];var $e=[`${w}/src/guidedTour.js`,`${v}/src/guidedTour.js`];var Ne=[`${w}/changelog.json`,`${v}/changelog.json`];var Be=[`${w}/src/icons.css`,`${v}/src/icons.css`,`${w}/styles/icons.css`,`${v}/styles/icons.css`];var d=null,me=()=>{try{d||j(),d==null||d.open()}catch(t){console.error("Failed to open guided tour modal.",t)}},j=()=>{var i,a,o,s,c;if(!(window!=null&&window.Modal))return console.warn("Modal class is not available, guided tour setup failed."),null;let t=new S;t.tourSteps=M(),(o=(a=(i=window==null?void 0:window.lucid)==null?void 0:i.store)==null?void 0:a.subscribe)==null||o.call(a,g=>{t.tourSteps=M(g)},"position"),d=new window.Modal,d.setHeader("Welcome to Lucid Theme!");let e=p("div",{className:"tour-container arrow-hidden visible full-width",style:{position:"relative"},html:`<div class="tour-arrow"></div><div class="tour-message ${y("body-medium")}">Ready to explore lucid theme with a quick guided tour?</div><div class="tour-button-wrapper">${C("skip-btn tour-btn","Skip Tour")}${C("start-tour-btn tour-btn","Start Tour")}</div>`});d.setContent(e),(c=(s=document.getElementById("main"))!=null?s:document.body)==null||c.appendChild(d),localStorage.removeItem(I);let n=e.querySelector(".start-tour-btn"),r=e.querySelector(".skip-btn");n.onclick=()=>{localStorage.setItem(I,"true"),t.start(),t.tourSteps=M(),d==null||d.close(),document.body.appendChild(t)},r.onclick=()=>{var g,h,b;localStorage.setItem(I,"true"),t.endTour(),d==null||d.close(),(b=(h=(g=window==null?void 0:window.lucid)==null?void 0:g.settings)==null?void 0:h.settingModal)==null||b.removeEventListener("close",x)},d==null||d.open()};j();window.guide={open:me};})();
